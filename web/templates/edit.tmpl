{{define "title"}}Edit Item{{end}}

{{define "content"}}
<h2>Edit Item</h2>

<div class="card">
    <form method="POST" action="/items/{{.Item.ID}}/edit" enctype="multipart/form-data">
        <div style="margin-bottom:1em;">
            <label for="title"><strong>Title</strong></label><br>
            <input type="text" id="title" name="title" value="{{.Item.Title}}" required style="width:100%;">
        </div>

        <div style="margin-bottom:1em;">
            <label for="desc"><strong>Description</strong></label><br>
            <textarea id="desc" name="desc" rows="4" style="width:100%;">{{.Item.Desc}}</textarea>
        </div>

        <div style="margin-bottom:1em;">
            <label for="contact"><strong>Contact Info</strong></label><br>
            <input type="text" id="contact" name="contact" value="{{.Item.Contact}}" required style="width:100%;">
        </div>

        <div style="margin-bottom:1em;">
            <label for="status"><strong>Status</strong></label><br>
            <select id="status" name="status" required>
                <option value="lost" {{if eq .Item.Status "lost"}}selected{{end}}>Lost</option>
                <option value="found" {{if eq .Item.Status "found"}}selected{{end}}>Found</option>
            </select>
        </div>

        <div style="margin-bottom:1em;">
            <label><strong>Current Image</strong></label><br>
            {{if .Item.Image}}
                <img src="/static/uploads/{{.Item.Image}}" alt="{{.Item.Title}}" style="max-width:200px; margin-bottom:8px;">
            {{else}}
                <p>No image uploaded.</p>
            {{end}}
        </div>

        <div style="margin-bottom:1em;">
            <label for="image"><strong>Replace Image (optional)</strong></label><br>
            <input type="file" id="image" name="image" accept="image/*">
        </div>

        <button type="submit" style="padding:8px 16px; background-color:#4CAF50; color:white; border:none; border-radius:4px;">
            Update Item
        </button>
    </form>
</div>

<p><a href="/items/{{.Item.ID}}">‚Üê Back to Item Details</a></p>
{{end}}

{{define "edit"}}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Item</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header>
        <h1><a href="/">Lost & Found</a></h1>
        <nav>
            <a href="/">All Items</a> | 
            <a href="/items/new">Post Item</a>
        </nav>
        <hr>
    </header>

    <main>
        {{block "content" .}}{{end}}
    </main>

    <footer>
        <hr>
        <p>&copy; 2025 Lost & Found</p>
    </footer>
</body>
</html>
{{end}}
