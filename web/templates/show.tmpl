{{define "show"}}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{.Item.Title}}</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<header>
    <h1><a href="/">Lost & Found</a></h1>
    <nav>
        <a href="/" class="btn btn-primary btn-sm">All Items</a>
        <a href="/items/new" class="btn btn-primary btn-sm">Post Item</a>
    </nav>
</header>

<main>
    <div class="card">
        <div class="row">
            <h2>{{.Item.Title}}</h2>
            <span class="pill {{.Item.Status}}">{{.Item.Status}}</span>
        </div>

        {{if .Item.Image}}
            <img src="/static/uploads/{{.Item.Image}}" alt="{{.Item.Title}}" style="max-width:300px; display:block; margin:12px 0;">
        {{end}}

        <p class="muted">Reported on {{.Item.CreatedAt.Format "Jan 2, 2006 at 3:04 PM"}}</p>
        <p><strong>Description:</strong><br>{{.Item.Desc}}</p>
        <p><strong>Contact Info:</strong><br>{{.Item.Contact}}</p>

        <div style="margin-top:16px;">
            <a href="/items/{{.Item.ID}}/edit" class="btn btn-primary">Edit Item</a>

            {{if eq .Item.Status "lost"}}
                <form method="POST" action="/items/{{.Item.ID}}/mark-found" style="display:inline-block; margin-left:8px;">
                    <button type="submit" class="btn btn-danger">Mark as Found</button>
                </form>
            {{else if eq .Item.Status "found"}}
                <p class="muted" style="margin-top:12px;">Marked as found on {{.Item.FoundAt.Format "Jan 2, 2006 at 3:04 PM"}}</p>
            {{end}}
        </div>
    </div>

    <p style="margin-top:16px;">
        <a href="/" class="btn btn-secondary">‚Üê Back to All Items</a>
    </p>
</main>

<footer>
    <p>&copy; 2025 Lost & Found</p>
</footer>
</body>
</html>
{{end}}
